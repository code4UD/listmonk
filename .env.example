# Configuration pour listmonk-mairies
# Copiez ce fichier vers .env et adaptez les valeurs

# =================================================================
# Application
# =================================================================
LISTMONK_ADMIN_USER=admin
LISTMONK_ADMIN_PASSWORD=changeme_secure_password

# =================================================================
# Base de données PostgreSQL
# =================================================================
POSTGRES_USER=listmonk_mairies
POSTGRES_PASSWORD=secure_db_password_2024
POSTGRES_DB=listmonk_mairies

# =================================================================
# Configuration SMTP (obligatoire pour l'envoi d'e-mails)
# =================================================================
LISTMONK_smtp__host=smtp.example.com
LISTMONK_smtp__port=587
LISTMONK_smtp__auth_protocol=login
LISTMONK_smtp__username=your-email@example.com
LISTMONK_smtp__password=your-smtp-password
LISTMONK_smtp__hello_hostname=listmonk-mairies.local
LISTMONK_smtp__tls_enabled=true
LISTMONK_smtp__tls_skip_verify=false
LISTMONK_smtp__max_conns=10
LISTMONK_smtp__idle_timeout=15s
LISTMONK_smtp__wait_timeout=5s
LISTMONK_smtp__max_msg_retries=2
LISTMONK_smtp__email_headers='[{"X-Mailer": "listmonk-mairies"}]'

# =================================================================
# Configuration de l'application
# =================================================================
LISTMONK_app__from_email=noreply@example.com
LISTMONK_app__logo_url=https://example.com/logo.png
LISTMONK_app__favicon_url=https://example.com/favicon.ico
LISTMONK_app__lang=fr
LISTMONK_app__site_name="Listmonk Mairies"
LISTMONK_app__enable_public_subscription_page=false
LISTMONK_app__enable_public_archive=false
LISTMONK_app__send_optin_confirmation=true
LISTMONK_app__check_updates=false

# =================================================================
# Sécurité et confidentialité
# =================================================================
LISTMONK_privacy__individual_tracking=false
LISTMONK_privacy__unsubscribe_header=true
LISTMONK_privacy__allow_blocklist=true
LISTMONK_privacy__allow_export=true
LISTMONK_privacy__allow_wipe=false
LISTMONK_privacy__exportable='["profile", "subscriptions", "campaign_views", "link_clicks"]'

# =================================================================
# Configuration des uploads
# =================================================================
LISTMONK_upload__provider=filesystem
LISTMONK_upload__filesystem__upload_path=/listmonk/uploads
LISTMONK_upload__filesystem__upload_uri=/uploads
LISTMONK_upload__s3__aws_access_key_id=
LISTMONK_upload__s3__aws_secret_access_key=
LISTMONK_upload__s3__aws_default_region=
LISTMONK_upload__s3__bucket=
LISTMONK_upload__s3__bucket_domain=
LISTMONK_upload__s3__bucket_path=
LISTMONK_upload__s3__bucket_type=public

# =================================================================
# Configuration des bounces (optionnel)
# =================================================================
LISTMONK_bounce__enabled=false
LISTMONK_bounce__webhooks_enabled=false
LISTMONK_bounce__count=2
LISTMONK_bounce__action=blocklist

# Configuration POP3 pour les bounces (si activé)
LISTMONK_bounce__mailboxes='[{"enabled": false, "type": "pop", "host": "pop.example.com", "port": 995, "username": "bounce@example.com", "password": "password", "return_path": "bounce@example.com", "scan_interval": "15m", "tls_enabled": true, "tls_skip_verify": false}]'

# =================================================================
# Configuration géographique (spécifique aux mairies)
# =================================================================
LISTMONK_geo__enabled=true
LISTMONK_geo__cache_ttl=3600
LISTMONK_geo__import_batch_size=1000
LISTMONK_geo__max_import_file_size=50MB

# =================================================================
# Configuration Redis (cache)
# =================================================================
LISTMONK_redis__enabled=true
LISTMONK_redis__host=listmonk_mairies_redis
LISTMONK_redis__port=6379
LISTMONK_redis__password=
LISTMONK_redis__db=0
LISTMONK_redis__max_active=100
LISTMONK_redis__max_idle=10
LISTMONK_redis__timeout=5s

# =================================================================
# Configuration des campagnes
# =================================================================
LISTMONK_app__batch_size=1000
LISTMONK_app__concurrency=10
LISTMONK_app__message_rate=5
LISTMONK_app__max_send_errors=1000

# =================================================================
# Configuration des notifications
# =================================================================
LISTMONK_app__notify_emails='["admin@example.com"]'

# =================================================================
# Configuration avancée
# =================================================================
LISTMONK_app__worker_concurrency=10
LISTMONK_app__worker_queue_size=1000
LISTMONK_app__enable_captcha=false

# =================================================================
# Variables Docker Compose
# =================================================================
# Port d'exposition de l'application
LISTMONK_PORT=9000

# Port d'exposition de la base de données (localhost seulement)
POSTGRES_PORT=5432

# Port d'exposition de Redis (localhost seulement)
REDIS_PORT=6379

# Port d'exposition d'Adminer (développement)
ADMINER_PORT=8080

# Port d'exposition de Redis Commander (développement)
REDIS_COMMANDER_PORT=8081

# =================================================================
# Timezone
# =================================================================
TZ=Europe/Paris